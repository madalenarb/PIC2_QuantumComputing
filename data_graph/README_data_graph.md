# 📊 `data_graph/` – ETL & Plotting for QFT Benchmarks

This folder turns the many raw CSV files generated by the CUDA-Q / Qiskit
benchmark suites into **tidy, analysis-ready tables** and then into
**publication-grade figures**.

---

## 1 · Directory map — *after* one full run

```

data\_graph/
├── data\_csv/                    # raw input & merged outputs
│   ├── non\_noise/               # ← copy raw “no-noise” CSVs here
│   ├── noise/                   # ← copy raw “noise” CSVs here
│   └── treated\_data/            # auto-generated by merge\_csvs.py
│       ├── qft\_merged\_no\_noise.csv
│       └── qft\_merged\_noise.csv
│
├── report/
│   └── graphs/                  # PNGs produced by the notebook
│       ├── delta\_fidelity\_composite.png
│       ├── no\_noise\_comparison\_131072.png
│       ├── shot\_vs\_time\_l2\_max\_qubits.png
│       └── noise\_qubit\_evolution/
│           ├── fidelity\_cudaq-cpu\_zero\_131072.png
│           ├── … (many per-metric figures)
│           └── …
│
├── merge\_csvs.py                # CLI ETL tool  (🏷 RAW → TIDY)
├── plot\_benchmarking.ipynb      # Jupyter notebook (📈 TIDY → FIGURES)
└── README.md                    # you are here

````

*Tip: everything under `report/graphs/` is git-ignored so you can regenerate at
will.*

---

## 2 · Quick recipe

```bash
# 1.  Drop / symlink your raw benchmark CSVs
#     (matching the default naming pattern) into:
#       data_graph/data_csv/non_noise/
#       data_graph/data_csv/noise/

# 2.  Merge & tidy them
cd data_graph
python scripts/merge_csvs.py           # merged tables land in  data_csv/treated_data/

# 3.  Fire up the plotting notebook
jupyter lab  plot_benchmarking.ipynb   # figures saved in  report/graphs/
````

---

## 3 · What each script / notebook does

| File                          | Role                                                                                                                                                           | Key outputs               |
| ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| **`merge_csvs.py`**           | Harmonises column names, tags each row with `target` & `init`, saves<br>`qft_merged_no_noise.csv` & `qft_merged_noise.csv`                                     | `data_csv/treated_data/…` |
| **`plot_benchmarking.ipynb`** | Generates the paper graphics:<br>• **Δ-Fidelity composite**<br>• **Shots vs Time / L₂**<br>• **No-noise comparison**<br>• **Per-noise qubit-evolution** panels | `report/graphs/*.png`     |

*(You can safely run only the sections you need – the notebook checkpoints every
major figure.)*

---

## 4 · Requirements

The top-level CUDA-Q / Qiskit envs already include **pandas · matplotlib ·
seaborn**.  If you wish to use a different environment:

```bash
pip install pandas matplotlib seaborn jupyter
```

---

## 5 · Clean-up helper

```bash
# remove merged CSVs & all generated PNGs
rm -rf data_csv/treated_data  report/graphs
```

That’s it – a streamlined pipeline from **raw benchmark CSVs → tidy tables →
publication-quality plots**.  Happy analysing! 📈


